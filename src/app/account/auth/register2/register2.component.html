<form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
  ✅ Message succès depuis le store
  <div *ngIf="successMessage$ | async as message">
    <alert type="success" [dismissible]="false">{{ message }}</alert>
  </div> 




  <!-- ✅ Message d'erreur -->
  <div *ngIf="error">
     <alert type="danger" [dismissible]="false">{{ error }}</alert>
  </div>

  <div class="mb-3">
    <label for="nom">Nom</label>
    <input type="text" formControlName="nom" class="form-control" id="nom"
      [ngClass]="{ 'is-invalid': submitted && f.nom.errors }" placeholder="Entrez votre nom">
    <div *ngIf="submitted && f.nom.errors" class="invalid-feedback">
      <div *ngIf="f.nom.errors.required">Le nom est requis</div>
    </div>
  </div>

  <div class="mb-3">
     <label for="prenom">Prénom</label>
    <input type="text" formControlName="prenom" class="form-control" id="prenom"
      [ngClass]="{ 'is-invalid': submitted && f.prenom.errors }" placeholder="Entrez votre prénom">
    <div *ngIf="submitted && f.prenom.errors" class="invalid-feedback">
      <div *ngIf="f.prenom.errors.required">Le prénom est requis</div>
    </div>
  </div> 

  <div class="mb-3">
    <label for="email">Email</label>
    <input type="email" formControlName="email" class="form-control" id="email"
      [ngClass]="{ 'is-invalid': submitted && f.email.errors }" placeholder="Entrez votre email">
    <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
      <div *ngIf="f.email.errors.required">L'email est requis</div>
      <div *ngIf="f.email.errors.email">L'email doit être valide</div>
    </div>
  </div>

  <div class="mb-3">
    <label for="motDePasse">Mot de passe</label>
    <input type="password" formControlName="motDePasse" class="form-control" id="motDePasse"
      [ngClass]="{ 'is-invalid': submitted && f.motDePasse.errors }" placeholder="Entrez votre mot de passe">
    <div *ngIf="submitted && f.motDePasse.errors" class="invalid-feedback">
      <div *ngIf="f.motDePasse.errors.required">Le mot de passe est requis</div>
    </div>
  </div>

  <div class="mb-3">
    <label for="age">Âge</label>
    <input type="number" formControlName="age" class="form-control" id="age"
      [ngClass]="{ 'is-invalid': submitted && f.age.errors }" placeholder="Entrez votre âge">
    <div *ngIf="submitted && f.age.errors" class="invalid-feedback">
      <div *ngIf="f.age.errors.required">L'âge est requis</div>
    </div>
  </div>

  <div class="mb-3">
    <label for="telephone">Téléphone</label>
    <input type="text" formControlName="telephone" class="form-control" id="telephone"
      [ngClass]="{ 'is-invalid': submitted && f.telephone.errors }" placeholder="Entrez votre numéro">
    <div *ngIf="submitted && f.telephone.errors" class="invalid-feedback">
      <div *ngIf="f.telephone.errors.required">Le téléphone est requis</div>
    </div>
  </div>

  <div class="mb-3">
    <label for="adresse">Adresse</label>
    <input type="text" formControlName="adresse" class="form-control" id="adresse"
      [ngClass]="{ 'is-invalid': submitted && f.adresse.errors }" placeholder="Entrez votre adresse">
    <div *ngIf="submitted && f.adresse.errors" class="invalid-feedback">
      <div *ngIf="f.adresse.errors.required">L'adresse est requise</div>
    </div>
  </div>

  <div class="mt-4 d-grid">
    <button class="btn btn-primary btn-block" type="submit">S'inscrire</button>
  </div>
 </form> 
